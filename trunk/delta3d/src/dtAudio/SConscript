Import('*')

dtAudioSrcs = [ 'audiomanager.cpp',
                'listener.cpp',
                'sound.cpp',
                'soundeffectbinder.cpp' ]
                
dtAudioDeps = [ 'openal', 'OpenThreads', 'osg', 'osgDB', 'sg', 'ul', 'Producer', 'tinyxml' ]

if OS == 'windows' :
    dtAudioDeps += ['alut', 'User32']

    dtAudioDeps = [ extLibs[lib] for lib in dtAudioDeps if extLibs.has_key(lib) ]
                
dtAudioLib = env.SharedLibrary( 'dtaudio', dtAudioSrcs, CPPDEFINES = env['CPPDEFINES']+['DT_LIBRARY'], LIBS=dtAudioDeps+['dtcore'] )

env.Alias('install', env.Install( "$prefix/lib", dtAudioLib ) )
env.Default( dtAudioLib )
