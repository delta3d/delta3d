
SET(APP_NAME     ParticleEditor)

SET(SOURCE_PATH ${DELTA3D_SOURCE_DIR}/utilities/${APP_NAME})
file(GLOB PROG_HEADERS "inc/*.h")
file(GLOB PROG_SOURCES "src/*.cpp" "*.rc")
list(REMOVE_ITEM PROG_SOURCES ${SOURCE_PATH}/precomp.cpp)

INCLUDE_DIRECTORIES(${SOURCE_PATH}/inc ${QT_INCLUDE_DIRS}
                    ${CMAKE_CURRENT_BINARY_DIR} # for ui*.h files
)

qt5_wrap_cpp(MOC_SOURCES ${PROG_HEADERS})
QT5_ADD_RESOURCES(RCC_SOURCES particleeditor.qrc)
QT5_WRAP_UI(UI_SOURCES particleeditor.ui)

SOURCE_GROUP("Generated Files" REGULAR_EXPRESSION qrc_.*cxx|moc_.*cxx)

#ADD_PRECOMPILED_HEADER(${APP_NAME} prefix/dtcoreprefix.h prefix/dtdalprefix.cpp PROG_SOURCES)


SET(APP_EXTERNAL_DEPS
        QT_QTCORE_LIBRARY
        QT_QTGUI_LIBRARY
        QT_QTOPENGL_LIBRARY
        OSGFX_LIBRARY
        AGL_LIBRARY)

SET(APP_DEPS
          ${DTUTIL_LIBRARY}
          ${DTCORE_LIBRARY}
          ${DTABC_LIBRARY}
          ${DTQT_LIBRARY}
)

DELTA3D_ADD_PROGRAM(${APP_NAME} MACOSX_BUNDLE DT_OBJECT_VIEWER)

IF(WIN32)
  SET_TARGET_PROPERTIES(${APP_NAME} PROPERTIES DEBUG_POSTFIX "${CMAKE_DEBUG_POSTFIX}")
ENDIF(WIN32)

IF (MSVC)
  TARGET_LINK_LIBRARIES(${APP_NAME} User32 Gdi32 shell32 Advapi32 ole32 Ws2_32 Comctl32)
ENDIF (MSVC)
